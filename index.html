<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta name="msvalidate.01" content="17F58E477B9CFB986D13AC558D85FD68" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple - 免费音乐</title>
    <meta name="msvalidate.01" content="17F58E477B9CFB986D13AC558D85FD68">
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap">
    <link rel="stylesheet" href="index_styles.css">
</head>

<body>
    <header>
        <div class="header-left">
            <a href="#Simple Music" class="logo">Simple Music</a>
            <nav>
                <ul class="nav-menu">
                    <li><a href="#Simple Music" class="nav-link active">首页</a></li>
                    <li><a href="#" class="nav-link">发现</a></li>
                    <li><a href="#" class="nav-link">排行榜</a></li>
                    <li><a href="url.html?url=https://donation.moujie.dpdns.org/" class="nav-link"
                            target="_blank">捐赠</a></li>
                </ul>
            </nav>
        </div>
        <div class="header-right">
            <div class="search-bar">
                <input type="text" class="search-input" id="searchInput" placeholder="">
                <i class="fas fa-search search-icon"></i>
            </div>
            <div class="user-menu">
                <button class="action-button" id="themeToggle" title="切换主题">
                    <i class="fas fa-moon"></i>
                </button>
                <button class="action-button" id="loginButton" title="登录">
                    <i class="fas fa-user"></i>
                </button>
            </div>
        </div>
    </header>

    <aside class="sidebar">
        <div class="sidebar-section">
            <h3 class="sidebar-title">我的音乐</h3>
            <ul class="sidebar-menu">
                <li><a href="#" id="favoritesButton" class="sidebar-link active"><i class="fas fa-heart"></i>我喜欢的音乐</a>
                </li>
            </ul>
        </div>
        <div class="sidebar-section">
            <h3 class="sidebar-title">创建的歌单</h3>
            <ul class="sidebar-menu">
                <li><a href="#" class="sidebar-link" id="playlistButton"><i class="fas fa-list"></i>我的歌单</a></li>
            </ul>
        </div>
    </aside>


    <div class="container">
        <div class="content-header">
            <h2>推荐音乐</h2>
            <div class="view-controls">
                <button class="view-button active" data-view="grid">
                    <i class="fas fa-th"></i>
                </button>
                <button class="view-button" data-view="list">
                    <i class="fas fa-list"></i>
                </button>
            </div>
        </div>

        <div class="song-container">
            <div class="song-grid" id="songGrid">
                <div class="loading">
                    <div class="spinner"></div>
                </div>
            </div>
            <div class="song-list" id="songList"></div>
        </div>
    </div>

    <div class="toast" id="toast"></div>

    <!-- 用户信息弹窗 -->
    <div class="user-info-modal" id="userInfoModal">
        <div class="user-info-content">
            <div class="user-info-header">
                <h2>会员信息</h2>
                <button class="close-button" id="closeUserInfoModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="user-info-body">
                <div class="user-level-info">
                    <h3>当前等级</h3>
                    <p id="userLevelDisplay">加载中...</p>
                </div>
                <div class="user-expiry-info">
                    <h3>到期时间</h3>
                    <p id="userExpiryDisplay">加载中...</p>
                </div>
                <div class="user-benefits">
                    <h3>当前权益</h3>
                    <ul id="userBenefitsList"></ul>
                </div>
            </div>
        </div>
    </div>

    <!-- 登录弹窗 -->
    <div class="login-modal" id="loginModal">
        <div class="login-content">
            <div class="login-header">
                <h2>用户登录</h2>
                <button class="close-button" id="closeLoginModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="login-form">
                <div class="form-group">
                    <label for="phoneInput">手机号</label>
                    <input type="tel" id="phoneInput" placeholder="请输入手机号">
                </div>
                <div class="form-group">
                    <label for="passwordInput">密码</label>
                    <input type="password" id="passwordInput" placeholder="请输入密码">
                </div>
                <button class="login-button" id="submitLogin">登录</button>
                <div class="login-options">
                    <button class="guest-login-button" id="guestLogin">游客临时登录</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 收藏弹窗 -->
    <div class="favorites-modal" id="favoritesModal">
        <div class="favorites-content">
            <div class="favorites-header">
                <h2>我的收藏</h2>
                <button class="close-button" id="closeFavoritesModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="favorites-list" id="favoritesList">
                <!-- 收藏列表将通过JavaScript动态生成 -->
            </div>
            <div class="favorites-empty" id="favoritesEmpty">
                <i class="fas fa-heart-broken"></i>
                <p>暂无收藏歌曲</p>
                <button class="explore-button" id="exploreSongs">去发现音乐</button>
            </div>
        </div>
    </div>

    <!-- 歌单弹窗 -->
    <div class="playlist-modal" id="playlistModal">
        <div class="playlist-content">
            <div class="playlist-header">
                <h2>我的歌单</h2>
                <button class="create-playlist-button" id="createNewPlaylist">创建歌单</button>
                <button class="close-button" id="closePlaylistModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="playlist-list" id="playlistList">
                <!-- 歌单列表将通过JavaScript动态生成 -->
            </div>
            <div class="playlist-empty" id="playlistEmpty">
                <i class="fas fa-list"></i>
                <p>暂无歌单</p>
                <button class="create-playlist-button" id="createPlaylistBtn">创建歌单</button>
            </div>
        </div>
    </div>

    <!-- 创建歌单弹窗 -->
    <div class="playlist-modal" id="createPlaylistModal">
        <div class="playlist-content">
            <div class="playlist-header">
                <h2>创建歌单</h2>
                <button class="close-button" id="closeCreatePlaylistModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="playlist-form">
                <div class="form-group">
                    <label for="playlistName" class="form-label">歌单名称</label>
                    <input type="text" id="playlistName" class="form-input" placeholder="输入歌单名称">
                </div>
                <div class="form-group">
                    <label for="playlistDesc" class="form-label">歌单描述 (可选)</label>
                    <textarea id="playlistDesc" class="form-input" placeholder="输入歌单描述" rows="3"></textarea>
                </div>
                <div class="form-actions">
                    <button class="form-button cancel" id="cancelCreatePlaylist">取消</button>
                    <button class="form-button submit" id="submitCreatePlaylist">创建</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 歌单歌曲弹窗 -->
    <div class="playlist-songs-modal" id="playlistSongsModal">
        <div class="playlist-songs-content">
            <div class="playlist-songs-header">
                <h2 id="playlistSongsTitle">歌单歌曲</h2>
                <button class="close-button" id="closePlaylistSongsModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="play-order-selector">
                <button class="play-order-button active" data-order="list">列表顺序</button>
                <button class="play-order-button" data-order="random">随机播放</button>
            </div>
            <div class="playlist-songs-list" id="playlistSongsList">
                <!-- 歌单歌曲列表将通过JavaScript动态生成 -->
            </div>
            <div class="favorites-empty" id="playlistSongsEmpty">
                <i class="fas fa-music"></i>
                <p>歌单暂无歌曲</p>
            </div>
        </div>
    </div>

    <!-- 添加到歌单弹窗 -->
    <div class="playlist-modal" id="addToPlaylistModal">
        <div class="playlist-content">
            <div class="playlist-header">
                <h2>添加到歌单</h2>
                <button class="create-playlist-button" id="createNewPlaylist">创建歌单</button>
                <button class="close-button" id="closeAddToPlaylistModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="playlist-list" id="addToPlaylistList">
                <!-- 可添加到的歌单列表将通过JavaScript动态生成 -->
            </div>
            <div class="playlist-empty" id="addToPlaylistEmpty">
                <i class="fas fa-list"></i>
                <p>暂无歌单</p>
                <button class="create-playlist-button" id="createPlaylistFromAddBtn">创建新歌单</button>
            </div>
        </div>
    </div>

    <!-- 网络提示弹窗 -->
    <div class="network-modal" id="networkModal">
        <div class="network-content">
            <h3>网络提示</h3>
            <p>检测到您正在使用移动数据，请选择加载方式：</p>
            <div class="network-options">
                <div class="network-option">
                    <input type="checkbox" id="loadCovers" checked>
                    <label for="loadCovers">加载歌曲封面</label>
                </div>
                <div class="network-buttons">
                    <button id="preloadSongs">预加载所有歌曲</button>
                    <button id="loadOnDemand">按需加载歌曲</button>
                </div>
            </div>
        </div>
    </div>

    <div class="audio-player" id="audioPlayer">
        <div class="player-info">
            <div class="player-title" id="playerTitle">未选择歌曲</div>
            <div class="player-artist" id="playerArtist"></div>
        </div>

        <div class="player-controls">
            <button class="player-button" id="prevButton">
                <i class="fas fa-step-backward"></i>
            </button>
            <button class="player-button" id="playButton">
                <i class="fas fa-play"></i>
            </button>
            <button class="player-button" id="nextButton">
                <i class="fas fa-step-forward"></i>
            </button>
        </div>

        <div class="player-progress">
            <span class="time-display" id="currentTime">0:00</span>
            <div class="progress-bar" id="progressBar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <span class="time-display" id="duration">0:00</span>
        </div>

        <audio id="audioElement"></audio>
    </div>

    <!-- 页脚信息 -->
    <footer class="footer">
        <!-- 广告位 -->
        <div class="ad-container" id="adContainer">
            广告位招租:一个月10RMB
            <img src="ad.png" alt="广告" class="ad-image">
            VIP无广告
        </div>
        <div class="footer-content">
            <div class="membership-info">
                <h3>会员等级说明</h3>
                <div class="membership-grid">
                    <div class="membership-card">
                        <h4>游客</h4>
                        <ul>
                            <li>有广告</li>
                            <li>不可播放音乐</li>
                            <li>需要登录或使用游客临时账户</li>
                        </ul>
                    </div>
                    <div class="membership-card">
                        <h4>普通用户</h4>
                        <ul>
                            <li>有广告</li>
                            <li>可免费听所有歌曲</li>
                        </ul>
                    </div>
                    <div class="membership-card">
                        <h4>VIP用户</h4>
                        <ul>
                            <li>无广告</li>
                            <li>可联系站长添加歌曲 (每月限20首)</li>
                            <li>每月10元</li>
                        </ul>
                    </div>
                    <div class="membership-card">
                        <h4>皇钻用户</h4>
                        <ul>
                            <li>无广告</li>
                            <li>可联系站长添加歌曲</li>
                            <li>每月20元</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- 联系方式 -->
    <div class="contact-info">
        联系站长注册&充值账户
        <br>
        <i class="fas fa-sms"></i> <a href="sms:18255391942" class="contact-link">短信：18255391942 </a>| QQ：3835906098
        |<a href="mailto:3835906098@qq.com" class="contact-link">
            <EMAIL> 邮箱：3835906098@qq.com<EMAIL>
        </a>
    </div>

    <footer class="footer">
        <p>© 2025 Simple Music. All rights reserved.</p>
        <p>如有侵权联系删除</p>
        <p>Powered by <a href="https://github.com/dxj20120122/Music" target="_blank" class="contact-link">Simple
                Music</a></p>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bcryptjs/2.4.3/bcrypt.min.js"></script>
    <script src="index_script.js"></script>
    <script>
        // 初始化登录状态和功能
        document.addEventListener('DOMContentLoaded', () => {
            checkLoginStatus();
            initLoginModal();
        });
    </script>
</body>

</html>
